SME-Terceirizadas
=============================

# Ateliê do Software

_“Recurso público retorna ao público”._

O Ateliê do Software da SME tem o objetivo de garantir a manutenção e evolução dos sistemas em operação e construir sistemas novos sob demanda, possibilitado a partir do Edital nº 33/SME/2017.  
Baseados em um modelo de contratação baseado pelos movimentos ágil e de Software Craftsmanship, trabalhamos com equipes multidisciplinares para o desenvolvimento de produtos que beneficiam toda a comunidade escolar (técnicos da SME e DREs, gestores, professores, alunos e famílias).

# Alimentação

Para as **unidades escolares da rede municipal de educação da cidade de São Paulo** que **precisam acompanhar com segurança o fornecimento de alimentação escolar** o **SIGPAE (Sistema de Gestão  do Programa para Alimentação Escolar)**  É uma **plataforma**  que **gerencia todas as etapas de solicitações de alimentação, cadastro de produtos e controles internos**  diferentemente de **solicitações através de planilhas, e-mails e telefonemas**  o nosso produto **garante mais agilidade, confiabilidade e segurança para os processos**

**Conteúdo:**

1. [Sobre o Time](#sobre-o-time)  
2. [Sobre o Produto](#sobre-o-produto)  
3. [Como surgiu](#como-surgiu)  
4. [Links Úteis](#links-úteis)  
5. [Comunicação](#comunicação)  
6. [Como contribuir](#como-contribuir)  
7. [Repositórios](#repositórios)  
8. [Documentações Auxiliares](#documentações-auxiliares)  
9. [Instalação e Configuração](#instalação-e-configuração)

----------

## [](#sobre-o-time)Sobre o Time:

| Papel | Titular | Suplente  
|--|--|--|  
| Product Owner | Elisete Pereira |  |  
| Agente de Governança | Vítor Ferragini | Ronaldo Silveira |  
| Gerente de Projeto | Aline Freitas | |  
| Scrum Master | Marcos Nastri |  | 
| Designer de Serviços | Cíntia Ramos |Caio Dib  |  
| Analista de negócios | Fabrício Ramalho |  |  
| Analista UX/UI | Igor Leão |  |  
| Analista Programador | Bruno Buzzo, Pedro Walter, Rodolpho Lima |  |
| Analista de teste |Paula Pimentel|  |

## [](#sobre-o-produto)Sobre o Produto

### [](#objetivos-de-negócio)Objetivos de Negócio

O SIGPAE tem como objetivo automatizar os processos internos de fornecimento e distribuição de alimentação escolar. Como principais funcionalidades temos: cadastro e acompanhamento de solicitações de alimentação, solicitação de dieta especial, gestão de produtos, medição inicial e faturamento.

### [](#personas)Personas

**Direção escolar:**  responsável pela gestão da escola, com necessidade de otimização de tempo. O sistema é essencial para melhor controle das ações realizadas para a escola.

**Assistente Técnico de Educação e Nutricionista:**  responsável pela gestão das solicitações de alimentação no núcleo de gestão de contratos na  coordenadoria de alimentação escolar, com necessidade de organização do recebimento das diversas solicitações das escolas.

**Contador:** liquidação de todos os pagamentos efetuados pela coordenadoria de alimentação escolar 

**Nutricionista de Dieta Especial:** responsável pela validação de solicitações e prescrição da dieta especial, tem necessidade de otimização do processo para revisão, encaminhamento e fornecimento da dieta nas escolas. Processos burocráticos, dolorosos e com decisões de alto impacto para os estudantes.

**Nutricionista P&D:** responsável pela gestão de produtos (homologação, correção, suspensão e avaliação de reclamação e solicitação de análise sensorial) solicitados pelas empresas terceirizadas, com a necessidade de controle do que pode ser utilizados nas unidades escolares. 

**Diretoria Regional de Educação:** responsável pelo gerenciamento das solicitações realizadas pelas escolas que administra, com a necessidade de otimizar e controlar as diversas solicitações das unidades escolares. Para fiscalização e controle das solicitações geradas.

**Estudantes:** participação nas aulas, com garantia de recebimento de alimentação durante todo o período em que estiver na unidade escolar, assim como o recebimento de alimentação para as atividades externas. 

**Família:** responsável por acompanhar o cardápio diário das alimentações e por realizar a entrega de documentação para solicitação de Dieta Especial na unidade escolar, quando necessário, com a necessidade de atendimento ágil.
  
### [](#funcionalidades)Funcionalidades
Escola
- Solicitações
	-  Cadastro/ Edição/ Cancelamento/ Acompanhamento de solicitações para Inclusão de alimentação
	- Cadastro/ Edição/ Cancelamento/ Acompanhamento de solicitações Alteração de alimentação
	- inversão
	- Suspensão
	- Kit
	Relatórios por tipo de solicitação
	Relatórios por status
	Relatório por evolução das solicitações por tipo
    Portal administrativo

Dieta Especial
	Relatórios

Gestão de Produtos
	Relatórios por de produto
	Relatório por reclamação

### [](#jornadas)Jornadas



### [](#roadmap)Roadmap

Release 1  - Solicitações de alimentações

Release 2 - Relatórios de solicitações

Release 3 - Dieta Especial:

Release 4 - Relatório de Dieta Especial

Release 5- Homologação de produtos

Release 6-  Cardápio

Release 6 - Medicação inicial

Release 7 - Faturamento

## [](#como-surgiu)Como surgiu

### [](#fase-de-descoberta)Fase de Descoberta:

**Oficina sobre Homologação de Produtos:**



### [](#Protótipos)Protótipos:

**Protótipo Navegável:**

Visão Escola:
https://www.figma.com/file/52MKvjiFFjoy7WLuvLLjAi/Spt_13-ALIMENTA%C3%87%C3%83O-Terceirizadas_sprint13-230719?node-id=0%3A25539

Visão CODAE:
https://www.figma.com/file/52MKvjiFFjoy7WLuvLLjAi/Spt_13-ALIMENTA%C3%87%C3%83O-Terceirizadas_sprint13-230719?node-id=0%3A36995

Visão DRE: https://www.figma.com/file/52MKvjiFFjoy7WLuvLLjAi/Spt_13-ALIMENTA%C3%87%C3%83O-Terceirizadas_sprint13-230719?node-id=0%3A43643

### [](#testes-de-usabilidade)Testes de Usabilidade:

Não realizados.

## [](#links-úteis)Links Úteis:

**Homologação:**

[https://hom-sigpae.sme.prefeitura.sp.gov.br/](https://hom-sigpae.sme.prefeitura.sp.gov.br/)

**Produção:**

[https://sigpae.sme.prefeitura.sp.gov.br/](https://sigpae.sme.prefeitura.sp.gov.br/)

## [](#comunicação)Comunicação:

Canal de comunicação

Objetivos

[Issues do Github](https://github.com/prefeiturasp/SME-terceirizadas/issues)

- Sugestão de novas funcionalidades  
- Reportar bugs  
- Discussões técnicas


## [](#como-contribuir)Como contribuir

Contribuições são **super bem vindas**! Se você tem vontade de construir o curriculo digital conosco, veja o nosso [guia de contribuição](https://github.com/prefeiturasp/SME/blob/master/docs/CONTRIBUTING.md) onde explicamos detalhadamente como trabalhamos e de que formas você pode nos ajudar a alcançar nossos objetivos. Lembrando que todos devem seguir nosso [código de conduta](https://github.com/prefeiturasp/SME/blob/master/docs/CODEOFCONDUCT.md).

## [](#repositórios)Repositórios:

Informar os repositórios de código que envolvem a solução:

[SME-TERCEIRIZADAS] [https://github.com/prefeiturasp/SME-Terceirizadas](https://github.com/prefeiturasp/SME-Terceirizadas)

[SME-TERCEIRIZADAS-FRONTEND]
[https://github.com/prefeiturasp/SME-Terceirizadas-Frontend](https://github.com/prefeiturasp/SME-Terceirizadas-Frontend)


## [](#documentações-auxiliares)Documentações Auxiliares:

Em desenvolvimento.

 
## [](#instalação-e-configuração)Instalação e Configuração:

### Pré-requisitos

* git
* Docker
* Docker compose

### Banco de dados no Docker

Vamos rodar apenas o banco de dados em Docker, para isto crie uma pasta fora do projeto com o nome `sme-docker`.

```
mkdir sme-docker
cd sme-docker
```

E dentro da pasta crie um arquivo `docker-postgres.yml`

**Importante:** se você já estiver usando a porta 5432 na sua máquina, então mude a porta do host, ex. 5433.

E troque `HOME` para o path absoluto do projeto SME-Terceirizadas.

```yml
version: '3.1'

services: 
  db:
    image: postgres:11.2-alpine
    restart: always
    env_file:
      - HOME/SME-Terceirizadas/.env
    volumes:
      - ./pgdata:/var/lib/postgresql/data
    ports:
      - 5433:5432

  pgadmin4:
    image: dpage/pgadmin4
    restart: always
    ports:
      - 9090:9090
    volumes:
      - ./pgbkp:/var/lib/pgadmin/storage/
```


### Execução da imagem do banco de dados

Abra um terminal na raiz do projeto e execute o seguinte para o desenvolvimento local:

```
$ docker-compose -f docker-postgres.yml up -d
```

### Rodando o Celery

Na pasta `sme-docker` rodar o comando

```
docker-compose -f docker-celery.yml up -d
```

Na pasta `SME-Terceirizadas`, com a virtualenv ativa rode

```
celery -A config worker --loglevel=info -B
```


### Rodando o backend

Pré-requisitos:

* pipenv

```
pipenv shell
pyenv local 3.6.10
pipenv install --dev

python manage.py migrate

# Mude para a branch development
git checkout -b development origin/development

python manage.py carga_dados
```
