# Estratégia de Transformação Digital e Governo Aberto na SME

Como um governo pode atuar para garantir o bem comum de todos? Na SME, acreditamos que um dos meios para isso seja garantir transparência e prestação de contas e constante relação entre governo e sociedade para o desenvolvimento e implementação de políticas públicas. 

A Portaria SME nº 8.008, de 12 de novembro de 2018 oficializou a estratégia da Secretaria Municipal de Educação de SP para que nossas ações sejam pautadas nos princípios de Governo Aberto e para usarmos os valores e benefícios do mundo digital para melhorarmos nossos processos e serviços para os cidadãos. 
Com isso, pretendemos: 
- aumentar os níveis de transparência ativa e de abertura de dados, garantindo a proteção de dados pessoais; 
- instituir metodologias ágeis e colaborativas como parte do processo de desenvolvimento e de evolução de sistemas administrativos e de serviços digitais; 
- fortalecer o controle das políticas educacionais e da aplicação de recursos por parte da gestão e da sociedade; 
- promover espaços e metodologias de colaboração entre governo, academia, sociedade civil e setor privado. 

O [Ateliê do Software](http://forum.govit.prefeitura.sp.gov.br/uploads/default/original/1X/c88a4715eb3f9fc3ceb882c1f6afe9e308805a17.pdf) é uma das ferramentas para operacionalização. Baseado em um modelo de contratação inspirado pelos movimentos ágil e de Software Craftsmanship, trabalhamos com equipes multidisciplinares para o desenvolvimento de produtos que beneficiam toda a comunidade escolar (técnicos da SME e DREs, gestores, professores, alunos e famílias) e concretizam os objetivos da Estratégia de Transformação Digital e Governo Aberto “Pátio Digital”.

# Conteúdo

1. [Sobre o Produto](#sobre-o-produto) 
2. [Sobre o Time](#sobre-o-time) 
3. [Como surgiu](#como-surgiu)  
4. [Links Úteis](#links-úteis)  
5. [Comunicação](#comunicação)  
6. [Como contribuir](#como-contribuir)  
7. [Repositórios](#repositórios)  
8. [Instalação e Configuração](#instalação-e-configuração)
 
# Sobre o Produto

Para as **unidades escolares da rede municipal de educação da cidade de São Paulo** 

Que **precisam acompanhar com segurança o fornecimento de alimentação escolar**

O **SIGPAE (Sistema de Gestão  do Programa para Alimentação Escolar)**  

É uma **plataforma** 

Que **gerencia todas as etapas de solicitações de alimentação, cadastro de produtos e controles internos** 

Diferentemente de **solicitações através de planilhas, e-mails e telefonemas**  

Onosso produto **garante mais agilidade, confiabilidade e segurança para os processos.**

## Objetivos de Negócio

O SIGPAE tem como objetivo automatizar os processos internos de fornecimento e distribuição de alimentação escolar. Como principais funcionalidades temos: cadastro e acompanhamento de solicitações de alimentação, solicitação de dieta especial, gestão de produtos, medição inicial e faturamento.

## Personas

**Quem:** Direção Escolar
**Características e necessidades:** responsável pela gestão da escola, com necessidade de otimização de tempo. O sistema é essencial para melhor controle das ações realizadas para a escola

**Quem:** Assistente Técnico de Educação e Nutricionista
**Características e necessidades:** responsável pela gestão das solicitações de alimentação no núcleo de gestão de contratos na  coordenadoria de alimentação escolar, com necessidade de organização do recebimento das diversas solicitações das escolas

**Quem:** Contador
**Características e necessidades:** liquidação de todos os pagamentos efetuados pela coordenadoria de alimentação escolar 

**Quem:** Nutricionista de Dieta Especial
**Características e necessidades:** responsável pela validação de solicitações e prescrição da dieta especial, tem necessidade de otimização do processo para revisão, encaminhamento e fornecimento da dieta nas escolas. Processos burocráticos, dolorosos e com decisões de alto impacto para os estudantes

**Quem:** Nutricionista P&D
**Características e necessidades:** responsável pela gestão de produtos (homologação, correção, suspensão e avaliação de reclamação e solicitação de análise sensorial) solicitados pelas empresas terceirizadas, com a necessidade de controle do que pode ser utilizados nas unidades escolares

**Quem:** Diretoria Regional de Educação
**Características e necessidades:** responsável pelo gerenciamento das solicitações realizadas pelas escolas que administra, com a necessidade de otimizar e controlar as diversas solicitações das unidades escolares. Para fiscalização e controle das solicitações geradas

**Quem:** estudantes
**Características e necessidades:** participação nas aulas, com garantia de recebimento de alimentação durante todo o período em que estiver na unidade escolar, assim como o recebimento de alimentação para as atividades externas 

**Quem:** Família
**Características e necessidades:** responsável por acompanhar o cardápio diário das alimentações e por realizar a entrega de documentação para solicitação de Dieta Especial na unidade escolar, quando necessário, com a necessidade de atendimento ágil
  
## Funcionalidades

**Escola**

- Solicitações
- Cadastro/ Edição/ Cancelamento/ Acompanhamento de solicitações para Inclusão de alimentação
- Cadastro/ Edição/ Cancelamento/ Acompanhamento de solicitações Alteração de alimentação
- Inversão
- Suspensão
- Kit
- Relatórios por tipo de solicitação
- Relatórios por status
- Relatório por evolução das solicitações por tipo
- Portal administrativo

**Dieta Especial**

-  Relatórios

**Gestão de Produtos**

- Relatórios por de produto
- Relatório por reclamação

## Roadmap

- Release 1  - Solicitações de alimentações

- Release 2 - Relatórios de solicitações

- Release 3 - Dieta Especial:

- Release 4 - Relatório de Dieta Especial

- Release 5 - Homologação de produtos

- Release 6-  Cardápio

- Release 6 - Medicação inicial

- Release 7 - Faturamento

# Sobre o Time

| Papel | Titular | Suplente  
|--|--|--|  
| Product Owner | Elisete Pereira | Daniela Chichon e Andrea Wang |  
| Agente de Governança | Vítor Ferragini |  |  
| Gerente de Projeto | Aline Freitas | |  
| Scrum Master | Andrea Paiva |  | 
| Designer de Serviços | Caio Dib | |  
| Analista de negócios | Fabrício Ramalho |  |  
| Analista UX/UI | Pamela Marsola |  |  
| Analista Programador | Bruno Buzzo, Pedro Walter, Rodolpho Lima |  |
| Analista de teste |Paula Pimentel|  |

# Como surgiu

## Protótipos

**Protótipo Navegável:**

**Visão Escola:**
https://www.figma.com/file/52MKvjiFFjoy7WLuvLLjAi/Spt_13-ALIMENTA%C3%87%C3%83O-Terceirizadas_sprint13-230719?node-id=0%3A25539

**Visão CODAE:**
https://www.figma.com/file/52MKvjiFFjoy7WLuvLLjAi/Spt_13-ALIMENTA%C3%87%C3%83O-Terceirizadas_sprint13-230719?node-id=0%3A36995

**Visão DRE:** https://www.figma.com/file/52MKvjiFFjoy7WLuvLLjAi/Spt_13-ALIMENTA%C3%87%C3%83O-Terceirizadas_sprint13-230719?node-id=0%3A43643

# Links Úteis:

**Homologação:**

[https://hom-sigpae.sme.prefeitura.sp.gov.br/](https://hom-sigpae.sme.prefeitura.sp.gov.br/)

**Produção:**

[https://sigpae.sme.prefeitura.sp.gov.br/](https://sigpae.sme.prefeitura.sp.gov.br/)

# Comunicação:

| Canal de comunicação | Objetivos |
|----------------------|-----------|
| [Issues do Github](https://github.com/prefeiturasp/SME-Terceirizadas/issues) | - Sugestão de novas funcionalidades<br> - Reportar bugs<br> - Discussões técnicas |

# Como contribuir

Contribuições são **super bem vindas**! Se você tem vontade de construir o SIGPAE conosco, veja o nosso [guia de contribuição](./CONTRIBUTING.md) onde explicamos detalhadamente como trabalhamos e de que formas você pode nos ajudar a alcançar nossos objetivos. Lembrando que todos devem seguir  nosso [código de conduta](./CODEOFCONDUCT.md).

# Repositórios:

Informar os repositórios de código que envolvem a solução:

[SME-TERCEIRIZADAS] [https://github.com/prefeiturasp/SME-Terceirizadas](https://github.com/prefeiturasp/SME-Terceirizadas)

[SME-TERCEIRIZADAS-FRONTEND]
[https://github.com/prefeiturasp/SME-Terceirizadas-Frontend](https://github.com/prefeiturasp/SME-Terceirizadas-Frontend)
 
# Instalação e Configuração:

## Pré-requisitos

* git
* Docker
* Docker compose

## Banco de dados no Docker

Vamos rodar apenas o banco de dados em Docker, para isto crie uma pasta fora do projeto com o nome `sme-docker`.

```
mkdir sme-docker
cd sme-docker
```

E dentro da pasta crie um arquivo `docker-postgres.yml`

**Importante:** se você já estiver usando a porta 5432 na sua máquina, então mude a porta do host, ex. 5433.

E troque `HOME` para o path absoluto do projeto SME-Terceirizadas.

```yml
version: '3.1'

services: 
  db:
    image: postgres:11.2-alpine
    restart: always
    env_file:
      - HOME/SME-Terceirizadas/.env
    volumes:
      - ./pgdata:/var/lib/postgresql/data
    ports:
      - 5433:5432

  pgadmin4:
    image: dpage/pgadmin4
    restart: always
    ports:
      - 9090:9090
    volumes:
      - ./pgbkp:/var/lib/pgadmin/storage/
```

## Build da imagem do banco de dados

### Execução da imagem do banco de dados

Abra um terminal na raiz do projeto e execute o seguinte para o desenvolvimento local:

```
$ docker-compose -f docker-postgres.yml up -d
```

### Rodando o Celery

Na pasta `sme-docker` rodar o comando

```
docker-compose -f docker-celery.yml up -d
```

Na pasta `SME-Terceirizadas`, com a virtualenv ativa rode

```
celery -A config worker --beat --scheduler django --loglevel=info
```


### Rodando o backend

Pré-requisitos:

* pipenv

```
pipenv shell
pyenv local 3.6.10
pipenv install --dev

python manage.py migrate

# Mude para a branch development
git checkout -b development origin/development

python manage.py carga_dados
```